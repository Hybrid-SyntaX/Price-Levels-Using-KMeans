// See https://aka.ms/new-console-template for more information
using LevelsFinder;
using Microsoft.ML;


internal partial class Program
{

    private static void Main(string[] args)
    {
        Console.WriteLine("Hello, World!");
        LevelEstimatorService levelEstimatorService = new LevelEstimatorService(null,15);


       var data = new double[] { double.NaN, 100, 7.966573816145072, 6.584026916938484, 6.487036395789531, 38.620603197255804, 58.11361158306477, 67.49070824005237, 68.6773860023598, 70.37151590675373, 74.6214152343043, 61.76229695603918, 59.2782263279845, 58.37520998899944, 52.67212472760142, 44.93574378485641, 44.032878307312004, 49.07062240863992, 46.00468967512628, 59.96387197267406, 51.531807010458664, 49.19668647139618, 39.54719716927685, 31.00273955873611, 47.5663770655633, 53.28081522756241, 50.4545352454114, 50.65587817956729, 53.31210302254999, 61.25902758238701, 60.694676945427325, 63.198330984188594, 63.407510110856194, 63.02174235937819, 54.3046264901671, 58.06530748268531, 49.51198051072888, 53.95786972566622, 60.67120227099705, 58.83806380340453, 62.00314576894587, 65.6478451478757, 57.02705469076165, 56.62664724012378, 53.71576356613383, 50.58952532386657, 60.16119832743592, 65.00221009259951, 62.4564604642946, 62.90930209236647, 64.85962863558791, 69.74435621661074, 64.08822804994989, 59.181259951773775, 55.29088127232577, 50.74430283380512, 44.429680480048695, 44.201849974379456, 47.066553077327235, 48.91124447975063, 49.4448692742268, 50.91716065724415, 54.208336483985185, 45.38866302141559, 43.58276900958132, 52.77517129989142, 56.99870847213085, 62.01387573176417, 57.956547055248244, 54.511127707384894, 56.519046609329365, 52.17839946548278, 52.73682998578162, 51.157721404624176, 48.54852115660986, 46.61404194137894, 48.62412834495164, 42.12269867032247, 42.12269867032247, 43.67704964754287, 41.18152801122573, 50.347082703773694, 46.66857243158882, 48.936700504970595, 45.651098703923786, 53.056652471839065, 53.957495516205114, 57.16636944341357, 55.03002455169408, 58.53448971598936, 57.23826991795112, 60.301236412844055, 59.881312806487294, 62.83565693573075, 64.63484935146369, 55.67134327739336, 57.134613536884025, 61.16153797140357, 42.922977690470304, 33.715858932065785, 40.97025294879161, 38.83644323326885, 36.12403889466105, 47.10146870586113, 47.44128729224757, 52.60542043970674, 45.79794467057841, 40.64558386653753, 40.34200150968111, 41.564085454131295, 38.463682371821335, 38.141163636847324, 37.93562792152565, 41.87127061510537, 43.41689772561889, 34.80343109237528, 41.83815773243351, 39.17965451344445, 34.98954249484231, 33.580640354766345, 36.4447167650585, 33.863360009744326, 38.45030677542909, 33.867317412291044, 37.807058593977274, 38.94101127328538, 38.995458780640284, 39.40280495345323, 36.72425666036408, 40.236690645617756, 41.46449759843294, 42.041542312858574, 44.6530193773236, 46.28213839168449, 40.52688092670064, 39.488139729200455, 39.047220727392855, 46.2311939906721, 52.179533662855015, 49.35926478118703, 47.0850834053648, 46.14573215792749, 51.77905153609985, 59.13410011905417, 58.855892116059415, 54.63452317253784, 50.717083488952404, 52.92208530442639, 59.19276585471761, 60.62859352831617, 57.43654439268455, 47.771708072805666, 46.17288823749962, 52.55676511767727, 49.348994881930615, 46.2553235604794, 49.92725449258716, 51.237101386117224, 45.39852437255282, 46.52352590690333, 44.70495388921595, 43.64707161901058, 45.19085061045009, 50.28896623294869, 50.69490589367081, 52.099064335066174, 56.380053362897584, 55.217508635349134, 53.27401077781891, 54.18015835945183, 49.92281195932648, 48.66223141458289, 51.0578190743559, 48.52879182311651, 50.957971688314586, 52.535314793993194, 50.577357364044815, 52.387755721147535, 55.68951765531416, 51.29536070855871, 53.715651674074046, 53.00648076563829, 54.928925707821875, 51.055192295851874, 49.59708653606655, 61.528188412134924, 63.74337156563001, 67.37128565104345, 71.60757742316952, 71.33053672255042, 71.0345726117731, 71.22742200526945, 76.82232963497829, 75.10930394177858, 72.26945218572148, 74.83148247686425, 77.90870999219493, 74.48393986151906, 61.40316755219436, 49.87439125231736, 50.94015579434072 };

        var minMax =levelEstimatorService.FindLevels(data);
        foreach (var mm in minMax)
        {
            Console.WriteLine($"({mm.Min},{mm.Max})");
        }

        Console.ReadKey();
    }
}



